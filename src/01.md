<!-- #region 项目的结构 --> 
左边一个普通组件 leftNav
右边一个路由组件  Pos
<!-- #endregion 项目的结构  -->

<!-- #region 路由组件 Pos结构 -->
***左边是一个将右边的商品添加到的菜单 tableData: [],***
***右边上方是所有常用商品信息 下方是各个商品分类的数据***
<!-- #endregion 路由组件 Pos结构 -->

<!-- #region 获取常用商品信息的数据和各个商品分类商品的数据 -->
//常用商品信息的数据 oftenGoods 接口
export const oftenGoodsList=()=>mockRequests({
    url:'/oftenGoods',
    method:'get'
})


//各个商品分类商品的数据 type0Goods 接口
export const type0GoodsList=()=>mockRequests({
    url:'/type0Goods',
    method:'get'
})
<!-- #endregion 获取常用商品信息的数据和各个商品分类商品的数据 -->

<!-- #region 将获取的信息分别整理到参数中 -->
***整理常用商品信息的数据***
    async getoftenGoodsdata() {
      let result = await oftenGoodsList()
      console.log(result);
      this.oftenGoods = result.data
    },
***整理各个商品分类的数据***
    async gettype0Goodsdata() {
      let result = await type0GoodsList()
      console.log(result);
      this.type0Goods = result.data[0];//汉堡
      this.type1Goods = result.data[1];//小食
      this.type2Goods = result.data[2];//饮料
      this.type3Goods = result.data[3];//套餐
    },
<!-- #endregion 将获取的信息分别整理到参数中 -->

<!-- #region 渲染页面数据 -->
***渲染常用商品信息的数据渲染***
<li v-for="(oftenGoodsItem, index)in oftenGoods" :key="oftenGoodsItemgoodsId"
  @click="addOrderList(oftenGoodsItem)">
  <span>{{ oftenGoodsItem.goodsName }}</span>
  <span class="o-price">{{ oftenGoodsItem.price }}￥</span>
</li>
***渲染各个商品分类的数据***
渲染汉堡
<li v-for="(type0GoodsItem, index) in type0Goods" :key="type0GoodsItem.goodsId"
@click="addOrderList(type0GoodsItem)">
<span class="foodImg"><img :src=type0GoodsItem.goodsImg width="100%" height="118px"></span>
<span class="foodName">{{ type0GoodsItem.goodsName }}</span>
<span class="foodPrice">￥{{ type0GoodsItem.price }}元</span>
 </li>
渲染小食                    
<li v-for="(type1GoodsItem,index) in type1Goods":key="type1GoodsItem.goodsId"
  @click="addOrderList(type1GoodsItem)">
<span class="foodImg"><img :src=type1GoodsItem.goodsImg width="100%" height="118px"></span>
<span class="foodName">{{ type1GoodsItem.goodsName }}</span>
<span class="foodPrice">￥{{ type1GoodsItem.price }}元</span>
</li>
渲染饮料
 <li v-for="(type2GoodsItem, index) in type2Goods" :key="type2GoodsItem.goodsId"
  @click="addOrderList(type2GoodsItem)">
<span class="foodImg"><img :src=type2GoodsItem.goodsImg width="100%" height="118px"></span>
<span class="foodName">{{ type2GoodsItem.goodsName }}</span>
<span class="foodPrice">￥{{ type2GoodsItem.price }}元</span>
</li>
渲染套餐
<li v-for="(type3GoodsItem,index) in type3Goods":key="type3GoodsItem.goodsId"
  @click="addOrderList(type3GoodsItem)">
<span class="foodImg"><img :src=type3GoodsItem.goodsImg width="100%" height="118px"></span>
<span class="foodName">{{ type3GoodsItem.goodsName }}</span>
<span class="foodPrice">￥{{ type3GoodsItem.price }}元</span>
<li>   
                                    
<!-- #endregion 渲染页面数据 -->

<!-- #region 将商品添加到菜单中 -->
**添加到菜单中需要判断 是否商品已经存在菜单中**
@click="addOrderList(oftenGoodsItem)" 点击的是常用商品
@click="addOrderList(type0GoodsItem)" 点击的是汉堡
@click="addOrderList(type1GoodsItem)" 点击的是小食
@click="addOrderList(type2GoodsItem)" 点击的是饮料
@click="addOrderList(type3GoodsItem)" 点击的是套餐

let isHave = false; ***用于判断是否商品已经存在 初始值为false***
for (let i = 0; i < this.tableData.length; i++) { ***遍历整个菜单栏 如果被点击的元素id跟菜单栏中遍历元素的id相同说明商品是存在的***
  console.log(this.tableData[i].goodsId);
  if (this.tableData[i].goodsId == oftenGoodsItem.goodsId) {
    isHave = true; //存在 修改isHava状态
  }
}
***如果已经存在 则是添加商品数量***
***如果不存在 添加一个新的商品***
 if (isHave) {
   //存在就进行数量添加
   let arr = this.tableData.filter(o => o.goodsId == oftenGoodsItem.goodsId);
   arr[0].count++;
   console.log(arr);
 } else {
   //不存在就推入数组
   let newGoods = { goodsId: oftenGoodsItem.goodsId, goodsName: oftenGoodsItem.goodsName, price: oftenGoodsItem.price, count: 1 };
   this.tableData.push(newGoods);
 }
<!-- #endregion 将商品添加到菜单中 --> -->

<!-- #region 汇总的数量和金额 -->
**汇总数量和金额**
getAllMoney() {
this.totalCount = 0;
this.totalMoney = 0;
if (this.tableData) {
  this.tableData.forEach((element) => {
    this.totalCount += element.count;
    this.totalMoney = this.totalMoney + (element.price * element.count);
  });
}
    },

addOrderList(oftenGoodsItem) {
   this.totalCount = 0; //汇总数量清0
   this.totalMoney = 0;
   let isHave = false;
   //判断是否这个商品已经存在于订单列表
   for (let i = 0; i < this.tableData.length; i++) {
     console.log(this.tableData[i].goodsId);
     if (this.tableData[i].goodsId == oftenGoodsItem.goodsId) {
       isHave = true; //存在
     }
   }
   //根据isHave的值判断订单列表中是否已经有此商品
   if (isHave) {
     //存在就进行数量添加
     let arr = this.tableData.filter(o => o.goodsId == oftenGoodsItem.goodsId);
     arr[0].count++;
     console.log(arr);
   } else {
     //不存在就推入数组
     let newGoods = { goodsId: oftenGoodsItem.goodsId, goodsName: oftenGoodsItem.goodsName, price: oftenGoodsItem.price, count: 1 };
     this.tableData.push(newGoods);
   }
   this.getAllMoney()
 },    
<!-- #endregion 渲染页面数据 -->

<!-- #region 删除单个商品 -->
scope.row 删除的哪一行
 <template scope="scope">
 <el-button type="text" size="small" @click="addOrderList(scope.row)">增加</el-button>
 <el-button type="text" size="small" @click="delSingleGoods(scope.row)">删除</el-button>
</template>

    delSingleGoods(oftenGoodsItem) {
      console.log(oftenGoodsItem);
      this.tableData = this.tableData.filter(o => o.goodsId != oftenGoodsItem.goodsId);
      this.getAllMoney()
    },
<!-- #endregion 删除单个商品 -->

<!-- #region 删除整个订单 -->
    //删除整个订单
    delAllGoods() {
      this.tableData = [];
      this.totalCount = 0;
      this.totalMoney = 0;
    },
<!-- #endregion 删除整个订单 -->

